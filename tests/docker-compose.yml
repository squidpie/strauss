# docker-compose.yml
# Copyright (C) 2023
# Squidpie

version: "3.9"

services:
    redis-test:
        build:
            context: ${STRAUSS_ROOT_DIR}
            dockerfile: ${STRAUSS_ROOT_DIR}/tests/redis/Dockerfile
        networks:
            - strauss
    chat-test:
        build:
            context: ${STRAUSS_ROOT_DIR}
            dockerfile: ${STRAUSS_ROOT_DIR}/tests/chat/Dockerfile
        networks:
            - strauss
        depends_on:
            redis-test:
                condition: service_completed_successfully
                
networks:
    strauss:
        external: true